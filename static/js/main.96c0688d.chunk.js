(this["webpackJsonpbounding-boxes-on-video-react-shape-editor"]=this["webpackJsonpbounding-boxes-on-video-react-shape-editor"]||[]).push([[0],{6:function(i){i.exports=JSON.parse('[[{"id":"id1","x":5,"y":77,"width":106,"height":75}],[{"id":"id1","x":7,"y":75,"width":106,"height":75}],[{"id":"id1","x":13,"y":72,"width":106,"height":75}],[{"id":"id1","x":13,"y":65,"width":109,"height":82}],[{"id":"id1","x":18,"y":53,"width":110,"height":94}],[{"id":"id1","x":20,"y":42,"width":108,"height":105}],[{"id":"id1","x":22,"y":30,"width":100,"height":120}],[{"id":"id1","x":25,"y":24,"width":89,"height":129}],[{"id":"id1","x":29,"y":24,"width":80,"height":133}],[{"id":"id1","x":29,"y":27,"width":76,"height":132}],[{"id":"id1","x":25,"y":29,"width":77,"height":133}],[{"id":"id1","x":20,"y":33,"width":79,"height":131}],[{"id":"id1","x":16,"y":36,"width":81,"height":127}],[{"id":"id1","x":16,"y":39,"width":81,"height":124}],[{"id":"id1","x":16,"y":42,"width":81,"height":117}],[{"id":"id1","x":16,"y":46,"width":85,"height":113}],[{"id":"id1","x":17,"y":49,"width":87,"height":104}],[{"id":"id1","x":20,"y":49,"width":87,"height":98}],[{"id":"id1","x":23,"y":50,"width":87,"height":93}],[{"id":"id1","x":30,"y":49,"width":82,"height":90}],[{"id":"id1","x":33,"y":49,"width":83,"height":89}],[{"id":"id1","x":36,"y":48,"width":83,"height":89}],[{"id":"id1","x":39,"y":46,"width":83,"height":89}],[{"id":"id1","x":39,"y":40,"width":87,"height":95}],[{"id":"id1","x":39,"y":25,"width":99,"height":110}],[{"id":"id1","x":40,"y":15,"width":111,"height":126}],[{"id":"id1","x":40,"y":11,"width":123,"height":130}],[{"id":"id1","x":42,"y":4,"width":129,"height":137}],[{"id":"id1","x":42,"y":4,"width":138,"height":137}],[{"id":"id1","x":49,"y":1,"width":134,"height":140}],[{"id":"id1","x":55,"y":1,"width":128,"height":138}],[{"id":"id1","x":63,"y":3,"width":120,"height":133}],[{"id":"id1","x":69,"y":5,"width":114,"height":123}],[{"id":"id1","x":76,"y":8,"width":104,"height":120}],[{"id":"id1","x":88,"y":12,"width":88,"height":109}],[{"id":"id1","x":90,"y":12,"width":86,"height":105}],[{"id":"id1","x":93,"y":12,"width":83,"height":100}],[{"id":"id1","x":93,"y":11,"width":84,"height":101}],[{"id":"id1","x":97,"y":6,"width":88,"height":100}],[{"id":"id1","x":97,"y":2,"width":96,"height":104}],[{"id":"id1","x":98,"y":0,"width":104,"height":102}],[{"id":"id1","x":102,"y":0,"width":108,"height":101}],[{"id":"id1","x":100,"y":0,"width":108,"height":101}],[{"id":"id1","x":98,"y":0,"width":112,"height":101}],[{"id":"id1","x":91,"y":0,"width":112,"height":105}],[{"id":"id1","x":88,"y":0,"width":115,"height":109}],[{"id":"id1","x":85,"y":0,"width":110,"height":112}],[{"id":"id1","x":85,"y":0,"width":104,"height":114}],[{"id":"id1","x":85,"y":0,"width":98,"height":117}],[{"id":"id1","x":85,"y":0,"width":98,"height":114}],[{"id":"id1","x":85,"y":0,"width":98,"height":113}],[{"id":"id1","x":87,"y":0,"width":96,"height":107}],[{"id":"id1","x":91,"y":0,"width":98,"height":99}],[{"id":"id1","x":95,"y":0,"width":97,"height":89}],[{"id":"id1","x":99,"y":0,"width":97,"height":91}],[{"id":"id1","x":104,"y":4,"width":96,"height":90}],[{"id":"id1","x":107,"y":4,"width":96,"height":90}],[{"id":"id1","x":108,"y":9,"width":100,"height":86}],[{"id":"id1","x":108,"y":6,"width":106,"height":86}],[{"id":"id1","x":108,"y":3,"width":114,"height":90}],[{"id":"id1","x":114,"y":2,"width":111,"height":95}],[{"id":"id1","x":119,"y":0,"width":117,"height":101}],[{"id":"id1","x":121,"y":0,"width":127,"height":109}],[{"id":"id1","x":129,"y":0,"width":127,"height":115}],[{"id":"id1","x":132,"y":0,"width":131,"height":116}],[{"id":"id1","x":140,"y":0,"width":131,"height":122}],[{"id":"id1","x":147,"y":0,"width":124,"height":122}],[{"id":"id1","x":150,"y":5,"width":121,"height":114}],[{"id":"id1","x":158,"y":13,"width":116,"height":104}],[{"id":"id1","x":161,"y":19,"width":113,"height":94}],[{"id":"id1","x":167,"y":19,"width":107,"height":90}],[{"id":"id1","x":174,"y":33,"width":101,"height":72}],[{"id":"id1","x":182,"y":33,"width":101,"height":64}],[{"id":"id1","x":183,"y":33,"width":102,"height":64}],[{"id":"id1","x":190,"y":27,"width":106,"height":68}],[{"id":"id1","x":193,"y":17,"width":109,"height":79}],[{"id":"id1","x":199,"y":3,"width":110,"height":96}],[{"id":"id1","x":200,"y":0,"width":111,"height":103}],[{"id":"id1","x":201,"y":0,"width":112,"height":107}],[{"id":"id1","x":200,"y":0,"width":113,"height":110}],[{"id":"id1","x":196,"y":0,"width":117,"height":113}],[{"id":"id1","x":194,"y":0,"width":119,"height":113}],[{"id":"id1","x":192,"y":0,"width":119,"height":115}],[{"id":"id1","x":193,"y":0,"width":119,"height":115}],[{"id":"id1","x":192,"y":0,"width":119,"height":115}],[{"id":"id1","x":193,"y":0,"width":118,"height":107}],[{"id":"id1","x":198,"y":0,"width":117,"height":104}],[{"id":"id1","x":201,"y":0,"width":114,"height":101}],[{"id":"id1","x":206,"y":0,"width":112,"height":94}],[{"id":"id1","x":211,"y":4,"width":107,"height":88}],[{"id":"id1","x":217,"y":9,"width":96,"height":77}],[{"id":"id1","x":223,"y":5,"width":96,"height":77}],[{"id":"id1","x":67,"y":13,"width":24,"height":24}],[{"id":"id1","x":72,"y":16,"width":27,"height":24}],[{"id":"id1","x":75,"y":19,"width":27,"height":24}],[{"id":"id1","x":70,"y":13,"width":23,"height":24}],[{"id":"id1","x":75,"y":16,"width":30,"height":24}],[{"id":"id1","x":81,"y":21,"width":30,"height":24}],[{"id":"id1","x":78,"y":13,"width":22,"height":24}],[{"id":"id1","x":78,"y":13,"width":26,"height":24}],[{"id":"id1","x":86,"y":16,"width":26,"height":24}],[{"id":"id1","x":91,"y":20,"width":26,"height":24}],[{"id":"id1","x":85,"y":14,"width":26,"height":24}],[{"id":"id1","x":86,"y":14,"width":26,"height":24}],[{"id":"id1","x":93,"y":16,"width":26,"height":24}],[{"id":"id1","x":99,"y":19,"width":26,"height":24}],[{"id":"id1","x":92,"y":15,"width":26,"height":24}],[{"id":"id1","x":96,"y":16,"width":26,"height":24}],[{"id":"id1","x":102,"y":20,"width":26,"height":24}],[{"id":"id1","x":105,"y":23,"width":26,"height":24}],[{"id":"id1","x":100,"y":20,"width":26,"height":24}],[{"id":"id1","x":104,"y":21,"width":26,"height":24}],[{"id":"id1","x":110,"y":24,"width":26,"height":24}],[{"id":"id1","x":116,"y":28,"width":26,"height":24}],[{"id":"id1","x":109,"y":24,"width":26,"height":24}],[{"id":"id1","x":113,"y":25,"width":26,"height":24}],[{"id":"id1","x":120,"y":28,"width":26,"height":24}],[{"id":"id1","x":126,"y":35,"width":26,"height":24}],[{"id":"id1","x":119,"y":31,"width":26,"height":24}],[{"id":"id1","x":122,"y":32,"width":26,"height":24}],[{"id":"id1","x":134,"y":40,"width":26,"height":24}],[{"id":"id1","x":126,"y":37,"width":26,"height":24}],[{"id":"id1","x":129,"y":40,"width":26,"height":24}],[{"id":"id1","x":137,"y":44,"width":26,"height":24}],[{"id":"id1","x":142,"y":49,"width":26,"height":24}],[{"id":"id1","x":138,"y":47,"width":26,"height":24}],[{"id":"id1","x":142,"y":51,"width":26,"height":24}],[{"id":"id1","x":145,"y":55,"width":26,"height":24}],[{"id":"id1","x":147,"y":60,"width":26,"height":24}],[{"id":"id1","x":146,"y":60,"width":26,"height":24}],[{"id":"id1","x":149,"y":61,"width":26,"height":24}],[{"id":"id1","x":151,"y":63,"width":26,"height":24}],[{"id":"id1","x":158,"y":71,"width":26,"height":24}],[{"id":"id1","x":152,"y":67,"width":26,"height":24}],[{"id":"id1","x":154,"y":70,"width":26,"height":24}],[{"id":"id1","x":159,"y":76,"width":26,"height":24}],[{"id":"id1","x":163,"y":82,"width":26,"height":24}],[{"id":"id1","x":159,"y":80,"width":26,"height":24}],[{"id":"id1","x":161,"y":81,"width":26,"height":24}],[{"id":"id1","x":165,"y":87,"width":26,"height":24}],[{"id":"id1","x":170,"y":93,"width":26,"height":24}],[{"id":"id1","x":164,"y":90,"width":26,"height":24}],[{"id":"id1","x":166,"y":92,"width":26,"height":24}],[{"id":"id1","x":170,"y":100,"width":26,"height":24}],[{"id":"id1","x":170,"y":102,"width":26,"height":24}],[{"id":"id1","x":174,"y":103,"width":26,"height":24}],[{"id":"id1","x":178,"y":111,"width":26,"height":24}],[{"id":"id1","x":182,"y":116,"width":26,"height":24}],[{"id":"id1","x":181,"y":115,"width":26,"height":24}],[{"id":"id1","x":178,"y":113,"width":26,"height":24}],[{"id":"id1","x":179,"y":114,"width":26,"height":24}],[{"id":"id1","x":182,"y":116,"width":26,"height":24}],[{"id":"id1","x":185,"y":119,"width":26,"height":24}],[{"id":"id1","x":192,"y":124,"width":26,"height":24}],[{"id":"id1","x":194,"y":126,"width":26,"height":24}],[{"id":"id1","x":193,"y":128,"width":26,"height":24}],[{"id":"id1","x":196,"y":128,"width":26,"height":24}],[{"id":"id1","x":195,"y":129,"width":26,"height":24}],[{"id":"id1","x":197,"y":128,"width":26,"height":24}],[{"id":"id1","x":196,"y":127,"width":26,"height":24}],[{"id":"id1","x":195,"y":126,"width":26,"height":24}],[{"id":"id1","x":194,"y":125,"width":26,"height":24}],[{"id":"id1","x":194,"y":125,"width":26,"height":24}],[{"id":"id1","x":195,"y":125,"width":26,"height":24}],[{"id":"id1","x":195,"y":125,"width":26,"height":24}],[{"id":"id1","x":194,"y":125,"width":26,"height":24}],[{"id":"id1","x":194,"y":125,"width":26,"height":24}],[{"id":"id1","x":194,"y":125,"width":26,"height":24}],[{"id":"id1","x":194,"y":125,"width":26,"height":24}],[{"id":"id1","x":194,"y":125,"width":26,"height":24}],[{"id":"id1","x":194,"y":125,"width":26,"height":24}],[{"id":"id1","x":194,"y":125,"width":26,"height":24}],[{"id":"id1","x":194,"y":125,"width":26,"height":24}],[{"id":"id1","x":194,"y":125,"width":26,"height":24}],[{"id":"id1","x":194,"y":125,"width":26,"height":24}],[{"id":"id1","x":194,"y":125,"width":26,"height":24}],[{"id":"id1","x":194,"y":125,"width":26,"height":24}],[{"id":"id1","x":194,"y":125,"width":26,"height":24}],[{"id":"id1","x":194,"y":125,"width":26,"height":24}],[{"id":"id1","x":198,"y":152,"width":26,"height":17}],[{"id":"id1","x":202,"y":156,"width":26,"height":9}],[{"id":"id1","x":206,"y":159,"width":22,"height":6}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}],[{"id":"id1","x":205,"y":156,"width":23,"height":9}]]')},7:function(i,h,d){"use strict";d.r(h);var t=d(1),e=d(5),g=d.n(e),x=d(3),w=d(6),y=d(2);const n=i=>{let{x:h,y:d,width:t,height:e,vectorHeight:g,vectorWidth:x}=i;return{x:Math.round(Math.min(x-t,Math.max(0,h))),y:Math.round(Math.min(g-e,Math.max(0,d)))}},o=i=>{let{movingCorner:{x:h,y:d},vectorHeight:t,vectorWidth:e}=i;return{x:Math.round(Math.min(e,Math.max(0,h))),y:Math.round(Math.min(t,Math.max(0,d)))}};function r(i,h,d){return[...i.slice(0,h),...Array.isArray(d)?d:[d],...i.slice(h+1)]}const c=Object(x.c)((i=>{let{width:h,height:d,isActual:t}=i;const e=t?"0,0,255":"0,0,0";return Object(y.jsx)("rect",{width:h,height:d,fill:"rgba(".concat(e,",0.2)"),stroke:"rgba(".concat(e,",0.8)")})}));let a=1;const s=()=>{const[i,h]=Object(t.useState)(w),[d,e]=Object(t.useState)(0);let g=!0,s=i[d]||[];if(0===s.length)for(let t=d-1;t>=0;t-=1){const h=i[t];if(h&&h.length>0){s=h,g=!1;break}}const l=i=>{h((h=>{const t=h.concat();return t[d]=i(s),console.log(JSON.stringify(t)),t}))},[{vectorHeight:u,vectorWidth:b},j]=Object(t.useState)({vectorHeight:0,vectorWidth:0}),[p,m]=Object(t.useState)(0),[v,O]=Object(t.useState)(24),f=1/v,[M,k]=Object(t.useState)(!0),S=Object(t.useRef)(),C=Object(t.useRef)(),W=500/(b||1),A=s.map(((i,h)=>{const{id:d,height:t,width:e,x:x,y:w}=i;return Object(y.jsx)(c,{shapeId:d,shapeIndex:h,height:t,width:e,x:x,y:w,isActual:g,onChange:d=>{l((t=>r(t,h,{...i,...d})))},onDelete:()=>{l((i=>r(i,h,[])))},constrainMove:n,constrainResize:o},d)})),F=Math.ceil(p/f),H=()=>{const i=(h=S.current.currentTime,Math.floor(h/f));var h;i!==d&&e(i)},P=()=>{cancelAnimationFrame(C.current)},E=()=>{C.current=requestAnimationFrame((()=>{H(),E()}))},N=i=>{const h=(F+i)%F;S.current.currentTime=f*(h+.001)};return Object(t.useEffect)((()=>{const i=i=>{let h=!0;switch(i.key){case"a":N(d-1);break;case"d":N(d+1);break;default:h=!1}h&&i.preventDefault()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)})),Object(y.jsxs)("div",{style:{position:"relative"},children:[Object(y.jsx)("video",{ref:S,width:b*W,height:u*W,id:"video",onLoadedMetadata:i=>{j({vectorWidth:i.target.videoWidth,vectorHeight:i.target.videoHeight}),m(i.target.duration)},onTimeUpdate:H,onPlay:()=>{k(!1),E()},onPause:()=>{k(!0),P(),N(d)},onWaiting:P,onPlaying:E,controls:!1,loop:!0,children:Object(y.jsx)("source",{src:"http://www.w3schools.com/html/mov_bbb.mp4"})}),Object(y.jsxs)(x.b,{style:{position:"absolute",top:0,left:0},vectorWidth:b,vectorHeight:u,scale:W,children:[Object(y.jsx)(x.a,{onAddShape:i=>{let{x:h,y:d,width:t,height:e}=i;l((i=>[...i,{id:"id".concat(a),x:h,y:d,width:t,height:e}])),a+=1},constrainMove:n,constrainResize:o}),A]}),Object(y.jsx)("button",{onClick:()=>{const i=S.current;i.paused?i.play():i.pause()},children:M?"Play":"Pause"}),Object(y.jsxs)("button",{onClick:()=>{const i=prompt("Change the FPS? (note: time offset issues will occur with existing boxes)",String(v));null===i||i.trim().length<1||Number.isNaN(parseFloat(i))||O(parseFloat(i))},children:[v," FPS"]}),Object(y.jsx)("button",{title:"Back one frame (a key)",onClick:()=>N(d-1),children:"<"}),Object(y.jsx)("input",{type:"number",min:-1,max:F,step:1,value:d,onChange:i=>N(""!==i.target.value?parseInt(i.target.value,10):0)}),Object(y.jsx)("button",{title:"Forward one frame (d key)",onClick:()=>N(d+1),children:">"}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),Object(y.jsx)("a",{href:"https://github.com/fritz-c/react-shape-editor",children:"React Shape Editor"})]})},l=document.getElementById("root");g.a.render(Object(y.jsx)(s,{}),l)}},[[7,1,2]]]);
//# sourceMappingURL=main.96c0688d.chunk.js.map